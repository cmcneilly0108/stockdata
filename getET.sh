#!/bin/bash

curl 'https://us.etrade.com/etx/pw/portfolio/PortfolioDownload.csv' -H 'Host: us.etrade.com' -H 'User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: https://us.etrade.com/etx/pw/portfolios' -H 'Cookie: JSESSIONID=26A0852B535CC3351AE008E81A6C51F7.tomcat2; WRC_ID=99.65.180.199-1428379602588; UserLanguage=en-US; TimeZone=-8; s_fid=2383B7DC7CE6F566-3D88D0AB0BCD9BF9; et_segment=UCS-0 ST-E MOD-LLA CIA-A IRA-A CSG-I CT-; mmcore.et_funding=%7B%22brokerage%22%3A%7B%22value%22%3A%22IRA-A%22%2C%22isFunded%22%3Atrue%2C%22isUnfunded%22%3Afalse%2C%22isPartFunded%22%3Afalse%7D%2C%22ira%22%3A%7B%22value%22%3A%22CSG-I%22%2C%22isFunded%22%3Afalse%2C%22isUnfunded%22%3Afalse%2C%22isPartFunded%22%3Afalse%7D%2C%22csg%22%3A%7B%22value%22%3A%22CT-%22%2C%22isFunded%22%3Afalse%2C%22isUnfunded%22%3Afalse%2C%22isPartFunded%22%3Afalse%7D%7D; _ivu=C8C0A3D3-ADF3-4C55-919B-014924F9258E; _ivu=C8C0A3D3-ADF3-4C55-919B-014924F9258E; taxcenter=true; atgRecVisitorId=139A3tOHESIHeqq6NJZO6a_ns-W5DC4Gt4SUseWIvBtEA289F91; mmcore.tst=0.481; psiteLoginCookie=psitelogin; s_cc=true; s_ppv=us.etrade.com%253Aetx%253Apw%253Aportfolios%253Aportfolios%253A0%253Apositions%2C60%2C27%2C1957; RSADevicePrint=version%3D1%26pm%5Ffpua%3Dmozilla%2F5%2E0%20%28x11%3B%20ubuntu%3B%20linux%20x86%5F64%3B%20rv%3A50%2E0%29%20gecko%2F20100101%20firefox%2F50%2E0%7C5%2E0%20%28X11%29%7CLinux%20x86%5F64%26pm%5Ffpsc%3D24%7C1680%7C1050%7C1029%26pm%5Ffpsw%3D%26pm%5Ffptz%3D%2D8%26pm%5Ffpln%3Dlang%3Den%2DUS%7Csyslang%3D%7Cuserlang%3D%26pm%5Ffpjv%3D1%26pm%5Ffpco%3D1; DeviceTokenFSO=F_99.65.180.199_1428379603819; user=cmcneilly0108; SMSESSION=Fqi3PdzSYVkLTEGeobNohrY4fGcQp6BsPpv1dMwC3ZVJF72WNWlLhvv88d63eQidJek5+2CNefnt5pacBya2iMMNC936qLZTmQF6I/DZb/B5/bGhiH0xYJ3DE1BBRHg3FCDIpiqCPHruOb5s1znnkudfAIrvkbRBaLnJar4o5tBqzGv+bIuPrzBcOwYk0B35/TxWbFTD2qweCOsc+SLBlpXWjYq8Pou5t0QwSLOFwpJere8faT3TK8aO9fPszM0b9WiyeKq77fYyG936NTU1StXHiF5Rte9miH6UEvR7kmjZcaKwAixGX8PSr0Oxzlz5rxmrVbzHC1ZdbZbtFlouEys67wUWawthdH26jNzAEqMVqoizozPGwwNn7dnzsUlutQrMVktemnKiPMRjxHkeK40ehY7bl8wAkHi26FBzaKxNhynPHzexObzh1R48gXaS57HnbX5KLlJLoj9BCDEs9svOM+n0L5Wl2AaV/Xh66woBjINTcmOOYC+fvKF13dcCy5rHz7oXOpseYUszuEDHPbHZJBzV9mnRccjv5NhzAfi13z3sTgHrNwoqqsqT6sW9PGn+w4pLVM80W1P8VVW6nGySzg+GLCy7eT2qgP3ZCihR2QktCRoBqSt9jBJG9Y/qkz4xvftcTRxTJlq9RbXn8tgwA/ym7MnHVRorVoVue+kXmoaK3DODp5z39mKi3J9LPC4K/wvqzJs1sjoJwHAW0C2veQOrKuLrEwbf4UDRASUeU8WbUhObasExbD24Nz9iRlVeaZw+kl7nn+gWr3TaCgswt1A3hpW/M+jFXswyYeiJ19nRWo8kqRc8xBBSozSBzkVDsEgiOV+HBQaE3/mVY61+giLa3J6ttnV0SUSICBV5UY753KP07UX+YXYByl5uN4IQbIwpbucL+1cfRPU5gH+HUQD5xeNpIOqHSGWlo/mEDbqaERQPuYHv/LwV8EmFUCuE+vHMPlXRvYFlzTtWGccPxKVx5GHU0kFhahSQhiyhjFXw1rt0WlpgoOm/wu2kJ9l2TLlK54NvLALtyVF2Q6xJfsCycRn1; tp=3252; ensClickInfo=; s_sq=%5B%5BB%5D%5D; SessionExpirationTime=1481398335149; LastUpdateTime=1481396565150; xdVisitorId=139A3tOHESIHeqq6NJZO6a_ns-W5DC4Gt4SUseWIvBtEA289F91; atgRecSessionId=LbjqHDQ59YPMfbNF_HliHXtp2ReEfdd7tuMa8ZLkbQGPZ2m6CWHz!-635706574!-830945425; user_shown_bulletin=false; includesptab=y; etcklsatrbs=7958cbd698e24e30ad8df2354f2fdebf; PBELLA=1|20161206.0|skins|bella-nav|bella-csg-en_US.min.js|; mmapi.store.p.0=%7B%22mmparams.p%22%3A%7B%22mmid%22%3A%221512932567027%7C%5C%221215280535%7ChwQAAAp811bhygsAAA%3D%3D%5C%22%22%2C%22pd%22%3A%221512932567030%7C%5C%22513497621%7CigQAAAoBQnzXVuHKC6vQGt6QACDiYyEvIdRIDwAAAI%2BDF0L%2FPtJIAAAAAP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FAAZEaXJlY3QBKA4IAAgABQAAAAAAACEdAAAhHQAAIR0AAAIAaFQAAADDfo2Cjg0A%2F%2F%2F%2F%2FwGODSgO%2F%2F8NAAABAAAAAAH1zAAAloEBAACvcgAAAJLlmK4vDgB3cAAABQEOLw7%2F%2FyEAAAFTiZffBfARAQAMwwEA7hEBAPSoAQDxEQEANKkBAO8RAQAsqQEA7REBAPKoAQAAAAAAAUU%3D%5C%22%22%2C%22srv%22%3A%221512932567034%7C%5C%22lvsvwcgus04%5C%22%22%7D%2C%22mmparams.d%22%3A%7B%7D%7D; mmapi.store.s.0=%7B%22mmparams.d%22%3A%7B%7D%2C%22mmparams.p%22%3A%7B%22uat%22%3A%220%7C%7B%5C%22CustomerType%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22UnfundedNew%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22UnfundExist2nd%5C%22%3A%5C%22IRA%5C%22%2C%5C%22Funded%5C%22%3A%5C%22IRA%5C%22%2C%5C%22NoAccount%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22Prospect%5C%22%3A%5C%22NO%5C%22%2C%5C%22CSG_Check%5C%22%3A%5C%22YES%5C%22%2C%5C%22CT_Value%5C%22%3A%5C%22None%5C%22%2C%5C%22NoBrkNoIRA%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22Unfunded%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22FundedWithIRA%5C%22%3A%5C%22True%5C%22%2C%5C%22FundedNoIRA%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22MobileDevice%5C%22%3A%5C%22%5C%22%2C%5C%22OffsitePlacemen%5C%22%3A%5C%22Unknown%5C%22%2C%5C%22PaidSearch%5C%22%3A%5C%22Unknown%5C%22%7D%22%7D%7D' -H 'Connection: keep-alive' -H 'Upgrade-Insecure-Requests: 1' --data 'extendedHourQuote=0&viewName=All+Positions&isCustomView=false&isWithoutLots=true&portfolioID=57523791&acctShortName=Main+Investment+-3791&srcType=tspPortfolio&accountName=ADP&sortBy=0&sortOrder=0&radioGroup1=true' > etrade.csv
